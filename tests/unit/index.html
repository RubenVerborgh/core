<!DOCTYPE html>
<title>Unit-test</title>
<meta charset="utf-8">
<link rel="stylesheet" href="../../node_modules/mocha/mocha.css">
<body>
    <div class="shower list" style="display:none">
        <section class="slide">
            <h2>1</h2>
        </section>
        <section class="slide">
            <h2>2</h2>
            <ul>
                <li class="unext">1</li>
                <li class="next">2</li>
                <li class="next">3</li>
            </ul>
        </section>
        <section class="slide">
            <h2>3</h2>
        </section>
        <div class="progress"></div>
    </div>

    <script>
        // Function.bind polyfill
        if (typeof (function () {}).bind === 'undefined') {
            Function.prototype.bind = function (ctx) {
                var fn = this;
                if (arguments.length > 1) {
                    var prependArgs = Array.prototype.slice.call(arguments, 1);
                    var args = Array.prototype.slice.call(arguments);
                    return function () {
                        return fn.apply(ctx, [].concat(prependArgs, args));
                    };
                } else {
                    return function () {
                        return fn.apply(ctx, arguments);
                    };
                }
            };
        }
    </script>

    <script src="../../node_modules/mocha/mocha.js"></script>
    <script src="../../shower.js"></script>
    <script src="../../node_modules/chai/chai.js"></script>
    <script src="tests.js"></script>

    <script>
        mocha.setup('bdd');
        mocha.checkLeaks();

        mocha.globals([
            'modules'
        ]);

        modules.require(['shower'], function (shower) {
            shower.ready(function () {
                modules.require(['tests'], function () {
                    if (window.mochaPhantomJS) {
                        mochaPhantomJS.run();
                    } else {
                        mocha.run();
                    }
                });
                // If tests not found.
                modules.define('tests', [], function (provide) {
                    provide();
                });
            });
        });
    </script>

    <div id="mocha"></div>
</body>
